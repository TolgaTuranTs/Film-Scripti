/**
 * Tayfun Erbilen - jQuery Slider Plugin (pSlider)
 */
jQuery.fn.pSlider=function(c){var a=jQuery.extend({slider:null,button:{prev:null,next:null},visible:1,width:null,height:null,extra:0,direction:"horizontal",duration:1000,loop:false,easing:null,start:null,animation:true,skip:1,auto:false,time:1000,keyboard:false,pagination:null,list:null,callback:function(){},callbackStart:function(){},callbackEnd:function(){}},c);var d=this;if(a.start===0||a.start===null){a.callbackStart()}if(a.direction==="horizontal"&&a.width===null){a.width=a.slider.outerWidth()+a.extra}if(a.direction==="vertical"&&a.height===null){a.height=a.slider.outerHeight()+a.extra}this.animated=false;this.total=a.slider.length;this.parent=a.slider.parent();this.css("overflow","hidden");if(a.direction==="horizontal"){a.slider.width(a.width)}else{if(a.direction==="vertical"){a.slider.height(a.height)}}if(a.direction==="horizontal"){a.slider.css("float","left");this.parent.width((a.width*this.total)+(a.extra*this.total))}else{if(a.direction==="vertical"){this.parent.height((a.height*this.total)+(a.extra*this.total))}}if(a.pagination){if(d.total===1){a.pagination.hide()}else{for(var b=1;b<=d.total;b++){a.pagination.append('<a href="#"'+(b===1?' class="active"':null)+">"+b+"</a>")}a.pagination.find("a").on("click",function(f){a.start=$(this).index();d.animation("text");f.preventDefault()})}}if(a.list){a.list.filter(":first").addClass("active");a.list.on("click",function(f){a.start=$(this).index();d.animation("text");f.preventDefault()})}this.animation=function(e){if(d.animated===false){d.animated=true;if(e==="next"){if(a.start<d.total-a.visible){a.start=a.start+a.skip;if(a.start>d.total-a.visible){a.start=d.total-a.visible}}else{if(a.loop){a.start=0}else{d.animated=false}}}else{if(e==="prev"){if(a.start>0){a.start=a.start-a.skip;if(a.start<0){a.start=0}}else{if(a.loop){a.start=d.total-a.visible}else{d.animated=false}}}}if(a.direction==="horizontal"){d.obj={marginLeft:"-"+((a.start*a.width)+(a.extra*a.start))}}else{if(a.direction==="vertical"){d.obj={marginTop:"-"+((a.start*a.height)+(a.extra*a.start))}}}d.parent.stop().animate(d.obj,{duration:a.duration,complete:function(){d.animated=false;if(a.pagination){a.pagination.find("a").removeClass("active").eq(a.start).addClass("active")}if(a.list){a.list.removeClass("active").eq(a.start).addClass("active")}},easing:(a.easing)?a.easing:null});if(a.start===d.total-a.visible){a.callbackEnd()}else{if(a.start===0||a.start===null){a.callbackStart()}else{a.callback()}}}};if(a.button.next){a.button.next.on("click",function(f){d.animation("next");f.preventDefault()})}if(a.button.prev){a.button.prev.on("click",function(f){d.animation("prev");f.preventDefault()})}if(a.start>0){a.start=a.start-1;if(a.start>this.total){a.start=this.total}if(a.animation){this.animation("next")}else{a.start=a.start+1;if(a.direction==="horizontal"){this.parent.css("margin-left","-"+((a.start)*a.width)+"px")}else{if(a.direction==="vertical"){this.parent.css("margin-top","-"+((a.start)*a.height)+"px")}}if(a.pagination){a.pagination.find("a").removeClass("active").eq(a.start).addClass("active")}if(a.list){a.list.removeClass("active").eq(a.start).addClass("active")}}}if(a.keyboard){this.keyboard=function(f){var e=f.which||f.keyCode;if(a.direction==="horizontal"){if(e===37){d.animation("prev")}else{if(e===39){d.animation("next")}}}else{if(a.direction==="vertical"){if(e===40){d.animation("prev")}else{if(e===38){d.animation("next")}}}}return false};this.hover(function(){$(document).on("keydown",d.keyboard)},function(){$(document).off("keydown",d.keyboard)})}if(a.auto){a.loop=true;this.interval=setInterval(function(){d.animation("next")},a.time);this.hover(function(){clearInterval(d.interval);d.interval=null},function(){d.interval=setInterval(function(){d.animation("next")},a.time)})}this.bind("resize",function(f,e){d.animated=false;a.start=a.start+1;e=jQuery.extend(a,e);$(this).pSlider(e)})};
