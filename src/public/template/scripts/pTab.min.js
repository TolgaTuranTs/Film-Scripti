/*
 * jQuery Tab Plugin (pTab)
 * Author - Tayfun ERBÝLEN - Mert Osman BAÞOL
 * Web - erbilen.net
 * Mail - tayfunerbilen@gmail.com
 * Version - 1.0
*/
(function(e){jQuery.fn.efektUygula=function(e,t){return this[e](e=="show"?0:t)};jQuery.fn.pTab=function(t){var n=jQuery.extend({pEvent:"click",pTab:"ul",pTabElem:"li",pClass:"aktif",pContent:".icerik",pDuration:500,pEffect:"show",pAutoHeight:false,pUi:false,pUiEffect:"fade",pDebug:false,pSlide:false,pSlideWidth:0,pEasing:"linear",pSlidePrev:false,pSlideNext:false,pSlideLoop:false,pSlideLoopDuration:500,pMouseWheel:false,pElemFunc:false,pEventFunc:false,pKeyboardEvent:false,pActiveTab:0},t);return this.each(function(){if(n.pDebug){if(n.pUi){if(!jQuery.ui){alert("Tab uygulamasý için UI Kütüphanesini sayfanýza dahil etmeniz gerekiyor!")}}var t=["click","mouseenter","dblclick"];if(jQuery.inArray(n.pEvent,t)==-1){alert(n.pEvent+" adýnda bir event tanýmý yapamazsýnýz!\n["+t.join(", ")+"]")}var r=["show","fadeIn","slideDown"];if(jQuery.inArray(n.pEffect,r)==-1){alert(n.pEffect+" adýnda bir efekt tanýmý yapamazsýnýz!\n["+r.join(", ")+"]")}var i=["fade","bounce","highlight","pulsate","shake","slide"];if(jQuery.inArray(n.pUiEffect,i)==-1){alert(n.pUiEffect+" adýnda bir ui efekt tanýmý yapamazsýnýz!\n["+i.join(", ")+"]")}}if(n.pElemFunc){n.pElemFunc()}var s=jQuery(this),o=n.pActiveTab;jQuery(n.pTab+" "+n.pTabElem+":eq("+n.pActiveTab+")",s).addClass(n.pClass);if(n.pMouseWheel||n.pSlideLoop||n.pSlide||n.pSlideNext||n.pSlidePrev){var u=jQuery(n.pContent,s).length;if(n.pSlide==true){jQuery(n.pContent,s).css("float","left")}if(n.pSlideNext==false&&n.pSlidePrev==false){n.pSlideNext=true;n.pSlidePrev=true}}var a=jQuery(n.pTab+" "+n.pTabElem+":eq("+n.pActiveTab+")",s).data("ploadfile");if(a){jQuery(n.pContent+":eq("+n.pActiveTab+")",s).load(a,function(){var e=jQuery(n.pContent+":first",s).outerHeight();jQuery("div[rel=pSlideContent]",s).stop().animate({height:e+"px"},{duration:n.pDuration})})}var f=jQuery(n.pTab+" "+n.pTabElem+":first",s).data("piframe");if(f){jQuery(n.pContent+":eq("+n.pActiveTab+")",s).html('<iframe src="'+f.url+'" frameborder="0" width="'+f.width+'" height="'+f.height+'" style="display: none"></iframe>').append('<div class="loader">Tab Ýçeriði Yükleniyor..</div>').find("iframe").load(function(){e(this).siblings(".loader").hide();e(this).show();var t=jQuery(n.pContent+":first",s).outerHeight();jQuery("div[rel=pSlideContent]",s).stop().animate({height:t+"px"},{duration:n.pDuration})})}if(n.pSlide==false){jQuery(n.pContent,s).hide();jQuery(n.pContent+":eq("+n.pActiveTab+")",s).show()}else{jQuery(n.pContent,s).wrapAll('<div rel="pSlide"></div>');jQuery("div[rel=pSlide]",s).wrapAll('<div rel="pSlideContent"></div>');if(n.pAutoHeight){var l=jQuery(n.pContent+":first",s).outerHeight()}jQuery("div[rel=pSlideContent]",s).css({width:n.pSlideWidth,overflow:"hidden",height:l});jQuery("div[rel=pSlide]",s).width(u*n.pSlideWidth);jQuery("div[rel=pSlide]",s).css("margin-left","-"+n.pActiveTab*n.pSlideWidth+"px")}jQuery(n.pTab+" "+n.pTabElem,s).bind(n.pEvent,function(){if(!jQuery(this).is("."+n.pClass)){if(n.pEventFunc){n.pEventFunc(jQuery(this))}o=jQuery(this).index();if(n.pDebug){if(!jQuery(n.pContent+":eq("+o+")",s).length){alert(jQuery(this).text()+" nesnesine ait "+n.pContent+" nesnesi bulunamadý!");return false}}var t=e(this).data("ploadfile");if(t){jQuery(n.pContent+":eq("+o+")",s).load(t,function(){var e=jQuery(n.pContent+":eq("+o+")",s).outerHeight();jQuery("div[rel=pSlideContent]",s).stop().animate({height:e+"px"},{duration:n.pDuration})})}var r=e(this).data("piframe");if(r){jQuery(n.pContent+":eq("+o+")",s).html('<iframe src="'+r.url+'" frameborder="0" width="'+r.width+'" height="'+r.height+'" style="display: none"></iframe>').append('<div class="loader">Tab Ýçeriði Yükleniyor..</div>').find("iframe").load(function(){e(this).siblings(".loader").hide();e(this).show();var t=jQuery(n.pContent+":eq("+o+")",s).outerHeight();jQuery("div[rel=pSlideContent]",s).stop().animate({height:t+"px"},{duration:n.pDuration})})}jQuery(this).parent().find(n.pTabElem).removeClass(n.pClass);jQuery(this).addClass(n.pClass);if(n.pSlide==false){n.pEffect=="slideDown"?jQuery(n.pContent,s).finish().slideUp(n.pDuration):jQuery(n.pContent,s).hide();if(n.pUi&&jQuery.ui){jQuery(n.pContent+":eq("+o+")",s).finish().effect(n.pUiEffect)}else{jQuery(n.pContent+":eq("+o+")",s).finish().efektUygula(n.pEffect,n.pDuration)}}else{jQuery("div[rel=pSlide]",s).stop().animate({marginLeft:"-"+o*n.pSlideWidth+"px"},{duration:n.pDuration,easing:n.pEasing});if(n.pAutoHeight){var i=jQuery(n.pContent+":eq("+o+")",s).outerHeight();jQuery("div[rel=pSlideContent]",s).stop().animate({height:i+"px"},{duration:n.pDuration})}}}return false});if(n.pSlidePrev){var c=function(){o>0?o--:o=u-1;if(n.pSlide==false){n.pEffect=="slideDown"?jQuery(n.pContent,s).finish().slideUp(n.pDuration):jQuery(n.pContent,s).hide();if(n.pUi&&jQuery.ui){jQuery(n.pContent+":eq("+o+")",s).finish().effect(n.pUiEffect)}else{jQuery(n.pContent+":eq("+o+")",s).finish().efektUygula(n.pEffect,n.pDuration)}}else{jQuery("div[rel=pSlide]",s).stop().animate({marginLeft:"-"+o*n.pSlideWidth+"px"},{duration:n.pDuration,easing:n.pEasing})}if(n.pAutoHeight){var e=jQuery(n.pContent+":eq("+o+")",s).outerHeight();jQuery("div[rel=pSlideContent]",s).stop().animate({height:e+"px"},{duration:n.pDuration})}jQuery(n.pTab+" "+n.pTabElem,s).parent().find(n.pTabElem).removeClass(n.pClass);jQuery(n.pTab+" "+n.pTabElem+":eq("+o+")",s).addClass(n.pClass);if(n.pEventFunc){n.pEventFunc(jQuery(n.pTab+" "+n.pTabElem+":eq("+o+")",s))}};jQuery(n.pSlidePrev,s).click(function(){c();return false})}if(n.pSlideNext){var h=function(){o<u-1?o++:o=0;if(n.pSlide==false){n.pEffect=="slideDown"?jQuery(n.pContent,s).finish().slideUp(n.pDuration):e(n.pContent,s).hide();if(n.pUi&&jQuery.ui){jQuery(n.pContent+":eq("+o+")",s).finish().effect(n.pUiEffect)}else{jQuery(n.pContent+":eq("+o+")",s).finish().efektUygula(n.pEffect,n.pDuration)}}else{jQuery("div[rel=pSlide]",s).stop().animate({marginLeft:"-"+o*n.pSlideWidth+"px"},{duration:n.pDuration,easing:n.pEasing})}if(n.pAutoHeight){var t=jQuery(n.pContent+":eq("+o+")",s).outerHeight();jQuery("div[rel=pSlideContent]",s).stop().animate({height:t+"px"},{duration:n.pDuration})}jQuery(n.pTab+" "+n.pTabElem,s).parent().find(n.pTabElem).removeClass(n.pClass);jQuery(n.pTab+" "+n.pTabElem+":eq("+o+")",s).addClass(n.pClass);if(n.pEventFunc){n.pEventFunc(jQuery(n.pTab+" "+n.pTabElem+":eq("+o+")",s))}};jQuery(n.pSlideNext,s).click(function(){h();return false})}if(n.pSlideLoop){var p=function(){if(o<u-1){h()}else{o=-1;h()}};var d=setInterval(function(){p()},n.pSlideLoopDuration);jQuery(s).hover(function(){clearInterval(d);d=null},function(){d=setInterval(function(){p()},n.pSlideLoopDuration)})}if(n.pMouseWheel){jQuery(s).mousewheel(function(e,t,n,r){t>0?c():h();return false})}e(s).hover(function(){if(n.pKeyboardEvent){e("body").attr("onKeyDown","$.doKey(event)");e.doKey=function(e){evt=e||window.event;if(evt.keyCode==37){c()}else if(evt.keyCode==39){h()}}}else{e("body").removeAttr("onKeyDown")}},function(){e("body").removeAttr("onKeyDown")})})}})(jQuery)